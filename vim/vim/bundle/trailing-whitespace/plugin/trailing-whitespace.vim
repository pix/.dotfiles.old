" highlight and fix trailing whitespace
" Maintainer: Scott Bronson <brons_trailwsvimscript@rinspin.com>
" License: public domain
" Version: 0.1

" Highlight EOL whitespace, http://vim.wikia.com/wiki/Highlight_unwanted_spaces
highlight ExtraWhitespace ctermbg=darkred guibg=#382424
autocmd ColorScheme * highlight ExtraWhitespace ctermbg=red guibg=red
autocmd BufWinEnter * match ExtraWhitespace /\s\+$/
" the above flashes annoyingly while typing, be calmer in insert mode
autocmd InsertLeave * match ExtraWhitespace /\s\+$/
autocmd InsertEnter * match ExtraWhitespace /\s\+\%#\@<!$/

" Run :FixWhitespace to remove end of line white space.
command! -range=% FixWhitespace silent! keepjumps <line1>,<line2>substitute/\s\+$//

